*** Settings ***
Library             Selenium2Library

*** Variables ***
${SENDMAIL_URL}     http://earth.local:8080/pennymail/sendmail

*** Keywords ***
Send Email To
	[Arguments]                 ${recipients}     ${topic}     ${message}
	Fill in Recipients          ${recipients}
    Fill in Topic               ${topic}
    Fill in Message             ${message}
    Click Button                send
    Everything Is OK

Send Email About New Gadget To
	[Arguments]                 ${recipients}
	Fill in Recipients          ${recipients}
    Fill in Topic               New Gadget Coming     
    Fill in Message             New Gadget arrive, Order Now !
    Click Button                send
      
Open Sendmail Browser
	Open Browser                  ${SENDMAIL_URL} 
    Wait Until Page Contains      RECIPIENTS

Fill in Recipients
	[Arguments]     ${recipients}
    Input Text      recipients      ${recipients}

Fill in Topic
	[Arguments]     ${topic}
    Input Text      topic           ${topic}

Fill in Message
	[Arguments]     ${message}
    Input Text      message         ${message}

Penny Should See Message
    [Arguments]     ${message}
    Page Should Contain             ${message}
    
Everything Is OK
    Page Should Not Contain         แสรดด e Penny โง่